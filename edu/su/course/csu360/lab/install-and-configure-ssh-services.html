<!DOCTYPE html>
<!--[if lte 8]><html class="pre-ie9" lang="en"><![endif]-->
<!--[if gte IE 9]><!-->
<html lang="en">
    <!--<![endif]-->

    <head>
        <script src="/js/edu_su_common.js"></script>
        <noscript>
            <style>
                html,
                body {
                    margin: 0;
                    overflow: hidden;
                }
            </style>
            <iframe src="/frame_noscript.html" style="width:100%;height:100vh;border:none;display:block"></iframe>
        </noscript>

        <title>Install and Configure SSH Services - CSU360 - Shoolini University</title>
        <meta name="description" content="Install and Configure SSH Services on Kali Linux - CSU360 - Shoolini University - dmj.one">

        <meta property="og:image" content="/logo.png">
        <meta property="og:type" content="article">

        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@divyamohan1993">
        <meta name="twitter:creator" content="@divyamohan1993">
        <meta name="twitter:image" content="/logo.png">

        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />

        <meta name="author" content="Divya Mohan">
        <meta name="robots" content="index, follow">

        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.4/katex.min.js" integrity="sha512-sHSNLECRJSK+BFs7E8DiFc6pf6n90bLI85Emiw1jhreduZhK3VXgq9l4kAt9eTIHYAcuQBKHL01QKs4/3Xgl8g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.4/contrib/auto-render.min.js" integrity="sha512-iWiuBS5nt6r60fCz26Nd0Zqe0nbk1ZTIQbl3Kv7kYsX+yKMUFHzjaH2+AnM6vp2Xs+gNmaBAVWJjSmuPw76Efg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                renderMathInElement(document.body, {
                    // customised options
                    // • auto-render specific keys, e.g.:
                    delimiters: [
                        { left: '$$', right: '$$', display: true },
                        { left: '$', right: '$', display: false },
                        { left: '\\(', right: '\\)', display: false },
                        { left: '\\[', right: '\\]', display: true }
                    ],
                    // • rendering keys, e.g.:
                    throwOnError: false
                });
            });
        </script>
    </head>

    <body>

        <script> header_author("dm"); </script>

        <main>

            <article class="agen-tableofcontents">
                <h2 class="text-center">
                    Practical 8: Perform an operation of operating system to install and configure: SSH service, and HTTP Service.
                </h2>

                <blockquote class="d-none d-print-flex mt-5 text-decoration-none" style="font-style:unset !important">
                    <p class="citation">
                        Mohan, D. (2024, April 22).
                        <em>Perform an operation of operating system to install and configure: SSH service, and HTTP Service</em>.
                        Practical 8: Perform an operation of operating system to install and configure: SSH service, and HTTP Service - CSU360 - Shoolini University.
                        Retrieved from https://dmj.one/edu/su/course/csu360/lab/install-and-configure-ssh-services
                    </p>
                </blockquote>
            </article>

            <article id="SSH Services">
                <h3>1. Introduction to SSH Services</h3>
                <p>Secure Shell (SSH) is a cryptographic network protocol used for secure connection between a client and a server. SSH enables secure system administration and file transfers over insecure networks, such as the internet. The protocol provides a secure channel over an unsecured network in a client-server architecture, with SSH client applications and SSH server applications.</p>
            </article>

            <article>
                <h4>1.1 The SSH Protocol</h4>
                <p>SSH is typically used to log into a remote machine and execute commands, but it also supports tunneling, forwarding arbitrary TCP ports and X11 connections. It can be used to provide applications with a secure communication link over an insecure network.</p>
                <p>SSH uses public-key cryptography to authenticate the remote computer and allow it to authenticate the user, if necessary.</p>
            </article>

            <article>
                <h4>1.2 Installing SSH on Kali Linux</h4>
                <p>On Kali Linux, SSH services are managed by the OpenSSH package. Installation and initial configuration steps are straightforward.</p>
                <pre><code class="language-bash">sudo apt update</code></pre>
                <div class="text-center">
                    <img src="../img/p8/p8-img1.webp" class="img-fluid dynamicimg" alt="Running apt package updater">
                    <figcaption class="figure-caption">Figure: Running apt Package Updater</figcaption>
                </div>
<pre><code class="language-bash">sudo apt install openssh-server</code></pre>
                <p>This installs the OpenSSH server, enabling the SSH service on your Kali system.</p>                
                <div class="text-center">
                    <img src="../img/p8/p8-img2.webp" class="img-fluid dynamicimg" alt="Installation of OpenSSH Server">
                    <figcaption class="figure-caption">Figure: Installation of OpenSSH Server</figcaption>
                </div>
            </article>

            <article>
                <h4>1.3 Configuring SSH</h4>
                <p>After installation, the SSH service may need to be configured to enhance security or to adjust operational parameters according to specific needs.</p>
                <pre><code class="language-bash">sudo nano /etc/ssh/sshd_config</code></pre>
                <p>This command opens the SSH daemon configuration file in nano editor. Here you can make several important changes such as:</p>
                <ul>
                    <li><strong>Port</strong>: Changing the default SSH port (22) to another port can help reduce unauthorized access attempts.</li>
                    <li><strong>PermitRootLogin</strong>: Disabling root logins over SSH ('PermitRootLogin no') enhances security.</li>
                    <li><strong>PasswordAuthentication</strong>: You can disable password-based authentication to enforce the use of more secure public key authentication.</li>
                </ul>
                <p>After making changes, save the file and restart the SSH service to apply the changes:</p>
                <pre><code class="language-bash">sudo systemctl restart ssh</code></pre>
            </article>

            <article>
                <h4>1.4 Starting and Enabling SSH Service</h4>
                <p>To ensure SSH starts automatically at boot, use the following commands:</p>
                <pre><code class="language-bash">sudo systemctl start ssh
sudo systemctl enable ssh</code></pre>
                <p>This ensures that the SSH service is running and is set to start automatically every time the system boots up.</p>
                <div class="text-center">
                    <img src="../img/p8/p8-img3.webp" class="img-fluid dynamicimg" alt="Start and Enable OpenSSH Server">
                    <figcaption class="figure-caption">Figure: Start and Enable OpenSSH Server</figcaption>
                </div>
            </article>

            <article>
                <h4>1.5 Verifying SSH Service Status</h4>
                <p>It's important to confirm that the SSH service is active and running without issues:</p>
                <pre><code class="language-bash">sudo systemctl status ssh</code></pre>
                <p>This command will display the current status of the SSH service, including whether it is active and running. Look for the 'active (running)' status in the output.</p>
                <p>Another way to verify is with a simple systemctl command:</p>
                <pre><code class="language-bash">systemctl is-enabled ssh</code></pre>
                <div class="text-center">
                    <img src="../img/p8/p8-img4.webp" class="img-fluid dynamicimg" alt="Verify if OpenSSH Server is Enabled">
                    <figcaption class="figure-caption">Figure: Verify if OpenSSH Server is Enabled</figcaption>
                </div>
            </article>

            <article>
                <h4>1.6 Connecting to the SSH Server</h4>
                <p>To test your SSH setup, you can try connecting to your Kali machine from another computer in the same network:</p>
                <pre><code class="language-bash">ssh username@your_kali_ip_address</code></pre>
                <p>Replace 'username' with your actual user account name on Kali and 'your_kali_ip_address' with the IP address of your Kali machine. This command should prompt you for your user's password and, if entered correctly, log you into your Kali system remotely.</p>
            </article>

            <article id="detailed-steps">
                <h3>2. Detailed Steps for SSH Setup and Connection</h3>
                <p>This section provides a complete, step-by-step guide to installing, configuring, generating a key pair, and connecting to an SSH server on Kali Linux, building on the initial setup discussed previously.</p>
            </article>

            <article>
                <h4>2.1 Installation of SSH Server</h4>
                <p>Install the OpenSSH server package:</p>
                <pre><code class="language-bash">sudo apt update
sudo apt install openssh-server</code></pre>
                <p>This command updates your package list and installs the SSH server.</p>
            </article>

            <article>
                <h4>2.2 Basic Configuration of SSH</h4>
                <p>Edit the SSH configuration file to set basic parameters:</p>
                <pre><code class="language-bash">sudo nano /etc/ssh/sshd_config</code></pre>
                <p>Make necessary changes such as disabling root login and changing the default port.</p>
                <pre><code class="language-bash">Port 2222
PermitRootLogin no</code></pre>
                <p>Save the changes and exit the editor.</p>
            </article>

            <article>
                <h4>2.3 Restart SSH Service</h4>
                <p>Restart the SSH service to apply configuration changes:</p>
                <pre><code class="language-bash">sudo systemctl restart ssh</code></pre>
            </article>

            <article>
                <h4>2.4 Generating SSH Key Pair</h4>
                <p>Generate an SSH key pair on the client machine (not on the Kali server). This is for secure authentication:</p>
                <pre><code class="language-bash">ssh-keygen -t rsa -b 4096</code></pre>
                <p>Follow the prompts to specify the file in which to save the keys and set a passphrase if desired.</p>
            </article>

            <article>
                <h4>2.5 Copy Public Key to SSH Server</h4>
                <p>Use ssh-copy-id to copy the public key to the Kali SSH server:</p>
                <pre><code class="language-bash">ssh-copy-id -i ~/.ssh/id_rsa.pub username@your_kali_ip_address -p 2222</code></pre>
                <p>Replace 'username' and 'your_kali_ip_address' with your actual user name and IP address, and use the port if you changed it in the SSH configuration file.</p>
            </article>

            <article>
                <h4>2.6 Testing the SSH Connection</h4>
                <p>From the client machine, initiate an SSH connection to verify that everything is set up correctly:</p>
                <pre><code class="language-bash">ssh -p 2222 username@your_kali_ip_address</code></pre>
                <p>You should be able to log in without entering a password, using the key pair authentication.</p>
            </article>

            <article>
                <h4>2.7 Securing SSH with Additional Configurations</h4>
                <p>Further secure SSH by adjusting additional settings in the configuration file:</p>
                <pre><code class="language-bash">sudo nano /etc/ssh/sshd_config</code></pre>
                <p>Enhance security with options like:</p>
                <ul>
                    <li><strong>X11Forwarding</strong>: Set to 'no' unless needed.</li>
                    <li><strong>UseDNS</strong>: Set to 'no' to prevent DNS resolution delays.</li>
                    <li><strong>AllowUsers</strong>: Specify which users can log in via SSH.</li>
                </ul>
                <p>Restart SSH to apply these changes:</p>
                <pre><code class="language-bash">sudo systemctl restart ssh</code></pre>
            </article>

            <article>
                <h4>2.8 Conclusion</h4>
                <p>Following these detailed steps ensures a secure and functional SSH environment on your Kali Linux system. This setup enables remote access and administration, leveraging the security of SSH key authentication.</p>
            </article>

            <article id="image-section">
                <h3>Image Reference</h3>
                <div class="mt-3">
                    <div class="row text-center" id="gallery"></div>
                </div>
            
                <div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-xl">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="modalTitle"></h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body text-center">
                                <img id="modalImage" class="img-fluid" src="" alt="">
                            </div>
                            <div class="modal-footer justify-content-between">
                                <button type="button" class="btn btn-secondary" id="previousButton">Back</button>
                                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-primary" id="nextButton">Next</button>
                            </div>
                        </div>
                    </div>
                </div>
            </article>
        </main>
        <script> copyright("all"); </script>

        <script>
            var currentImageIndex = -1; // Initialize current image index

            // Array of objects for each step
            var steps = [
                { src: "../img/p8/p8-img1.webp", alt: "ip a command", caption: "Figure: ip a command" },
                { src: "../img/p8/p8-img2.webp", alt: "Show Connections", caption: "Figure: Show Connections" },
                { src: "../img/p8/p8-img3.webp", alt: "Copying and Moving Files", caption: "Figure: Copying and Moving Files" },
                { src: "../img/p8/p8-img4.webp", alt: "Directory Operations with Content", caption: "Figure: Directory Operations with Content" },
                { src: "../img/p8/p8-img5.webp", alt: "Viewing File Content", caption: "Figure: Viewing File Content" },
                { src: "../img/p8/p8-img6.webp", alt: "Viewing File Content", caption: "Figure: Viewing File Content" },
            ];

            // Function to initialize gallery
            function initGallery() {
                var gallery = document.getElementById('gallery');
                steps.forEach(function (step, index) {
                    var col = document.createElement('div');
                    col.className = 'col-12 col-sm-6 col-md-4 col-lg-3 mb-4';
                    col.innerHTML = `
                                                <img src="${step.src}" class="img-fluid dynamicimg" alt="${step.alt}" data-bs-toggle="modal" data-bs-target="#imageModal" onclick="openModal('${step.src}', '${step.alt}')">
                                                <figcaption class="figure-caption text-center">${step.caption}</figcaption>
                                            `;
                    gallery.appendChild(col);

                    // Update onclick to pass the current index
                    col.querySelector('img').onclick = function () {
                        openModal(step.src, step.alt, index);
                    };
                });

                updateImageSources(); // Call the function to update all images with the 'dynamicimg' class
            }

            // Function to open modal

            var currentImageIndex = -1; // Initialize current image index

            // ... Your steps array and initGallery function ...

            // Function to open modal and set the image and title
            function openModal(src, alt, index) {
                currentImageIndex = index; // Set the current image index

                var modalTitle = document.getElementById('modalTitle');
                var modalImage = document.getElementById('modalImage');

                modalTitle.textContent = alt; // Set modal title to alt text
                modalImage.src = src;
                modalImage.alt = alt;

                // Set up previous button functionality
                var previousButton = document.getElementById('previousButton');
                previousButton.style.display = currentImageIndex > 0 ? 'block' : 'none'; // Show if not the first image
                previousButton.onclick = function () {
                    if (currentImageIndex > 0) {
                        currentImageIndex--;
                        var prevStep = steps[currentImageIndex];
                        openModal(prevStep.src, prevStep.caption, currentImageIndex);
                    }
                };

                // Set up next button functionality
                var nextButton = document.getElementById('nextButton');
                nextButton.style.display = currentImageIndex < steps.length - 1 ? 'block' : 'none'; // Show if not the last image
                nextButton.onclick = function () {
                    if (currentImageIndex < steps.length - 1) {
                        currentImageIndex++;
                        var nextStep = steps[currentImageIndex];
                        openModal(nextStep.src, nextStep.caption, currentImageIndex);
                    }
                };
            }

            // Function to update image sources
            function updateImageSources() {
                let images = document.querySelectorAll(".dynamicimg");

                for (let image of images) {
                    let imageName = image.src.split("/").pop();
                    if (window.location.hostname === "dmj.one") {
                        image.src = "https://cdn.dmj.one/edu/su/course/csu360/img/p8/" + imageName;
                    } else {
                        image.src = "../img/p8/" + imageName;
                    }
                }
            }

            // Initialize gallery on document ready
            document.addEventListener('DOMContentLoaded', initGallery);
        </script>

    </body>

</html>